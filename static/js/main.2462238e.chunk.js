(this.webpackJsonpnorthone=this.webpackJsonpnorthone||[]).push([[0],{170:function(e,t,a){e.exports=a(370)},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(66),c=a.n(l),s=a(15),o=a(31),i=a(48),m=a(23),u=a(78),d=function(e){var t=e.label,a=e.type,n=e.name,l=e.onChange,c=e.value,s=e.errors,o=e.onKeyDown;return r.a.createElement("div",{className:"measure"},r.a.createElement("label",{htmlFor:n,className:"f4 b db mb2"},t),r.a.createElement("input",{onKeyDown:o,className:"input-reset ba b--black-20 pa2 mb2 db w-100",type:a,name:n,onChange:l,value:c}),s?r.a.createElement("small",{className:"f6 black-60 db mb2 red"},s):null)},b=function(e){var t=e.label,a=e.name,n=e.onChange,l=e.value,c=e.errors;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:a,className:"f4 b db mb2"},t),r.a.createElement("textarea",{style:{resize:"none"},onChange:n,value:l,name:a,className:"db border-box hover-black w-100 measure ba b--black-20 pa2 br2 mb2 h3"}),c?r.a.createElement("small",{className:"f6 black-60 red"},c):null)},p=a(71),f=a.n(p),h=(a(120),a(70)),E=a.n(h),v=a(82),k=v.object().shape({title:v.string().required("This field is required!"),description:v.string().required("Cmon, add a lil description")}),y=a(169),x=a(10),N=a.n(x),w=new(a(167).a)("northone-todolist"),g=Object(n.createContext)(),C={title:"",description:"",tasks:"",status:"pending",due_date:new Date},j=function(e){var t=e.history,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],o=l[1],p=Object(n.useContext)(g).handleCreateTodo;return r.a.createElement("div",{className:"flex flex-column justify-center ph3 mw6-ns center-ns"},r.a.createElement(s.b,{className:"link underline black f4",to:"/"},r.a.createElement("i",{className:"fas fa-home"})),r.a.createElement(u.a,{initialValues:C,validationSchema:k,validateOnChange:!1,onSubmit:function(e){e.tasks=c,p(e),t.push("/")}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=e.setFieldValue,l=e.values,s=e.errors;return r.a.createElement("form",{className:"mt4",onSubmit:t},r.a.createElement(d,{label:"Title",type:"text",name:"title",onChange:a,errors:s.title?s.title:null}),r.a.createElement(b,{label:"Description",type:"text",name:"description",onChange:a,errors:s.description?s.description:null}),r.a.createElement("div",{className:"flex items-end justify-between"},r.a.createElement(d,{label:"Add some tasks",type:"text",value:l.tasks,name:"tasks",onChange:a,errors:s.tasks?s.tasks:null}),r.a.createElement("div",null,r.a.createElement("button",{className:"mb2",onClick:function(){var e={id:E()(),task:l.tasks,completed:!1};o((function(t){return[].concat(Object(i.a)(t),[e])})),n("tasks","")},type:"button"},"Add"))),c.length>0?r.a.createElement("ul",null,c.map((function(e){return r.a.createElement("li",{key:e.id},e.task)}))):null,r.a.createElement("div",{className:"mb5"},r.a.createElement("label",{htmlFor:"due_date",className:"f4 b db mb2"},"Set due date"),r.a.createElement(f.a,{name:"due_date",selected:l.due_date,onChange:function(e){return n("due_date",e)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:30,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa",placeholderText:"Select a date and time"})),r.a.createElement("div",{className:"flex mt5"},r.a.createElement("div",{className:"center"},r.a.createElement("button",{type:"reset"},"Reset"),r.a.createElement("button",{type:"submit"},"Save"))))})))},_=function(){var e=Object(n.useContext)(g),t=e.todos,a=e.loading,l=e.handleDeleteTodo,c=Object(n.useState)(""),o=Object(m.a)(c,2),i=o[0],u=o[1];return r.a.createElement("ul",{className:"list pa2  flex-ns flex-column-ns center-ns mw6-ns"},r.a.createElement("input",{onChange:function(e){!function(e){u(e.target.value)}(e)},placeholder:"Type to search...",className:"input-reset ba b--black-20 pa2 mb2 db w-100",type:"text","aria-describedby":"search box"}),a?r.a.createElement("div",{className:"tc"},"Loading..."):t.length?t.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())})).map((function(e){return r.a.createElement("li",{className:"flex justify-between items-center  ba br3 mb1 ph2 grow",key:e._id},r.a.createElement(s.b,{className:"link black",to:{pathname:"/todo/".concat(e._id),state:{todo:e}}},r.a.createElement("h3",{className:"f4 ttc"},e.title)),r.a.createElement("div",null,r.a.createElement("i",{onClick:function(){l(e._id,e._rev)},className:"far fa-trash-alt red pointer"})))})):r.a.createElement("div",{className:"tc"},"Todo List is empty!"),r.a.createElement(s.b,{className:"link black",style:{position:"absolute",bottom:"1rem",right:"1rem"},to:"/create"},r.a.createElement("div",{className:"ba br-100 h3 w3 flex justify-center items-center"},"+")))},O=function(e){var t=e.match,a=t.url,l=t.params,c=Object(n.useContext)(g),o=c.handleGetTodoById,i=c.todo,m=c.handleEditTodo,u=function(e){var t=i.tasks.map((function(t){return t.id===e.id?(t.completed=!t.completed,t):t}));return i.tasks=t,i};return Object(n.useEffect)((function(){o(l.todoId)}),[]),i?r.a.createElement("div",{className:"pa3 mw6-ns center"},r.a.createElement(s.b,{className:"link black underline f4",to:"/"},r.a.createElement("i",{className:"fas fa-home"})),r.a.createElement("div",{className:"tc ttc"},r.a.createElement("h1",{className:"f1 lh-title"},i.title),r.a.createElement("p",{className:"f3 lh-copy"},i.description)),i.tasks.length>0?r.a.createElement("ul",{className:"list pa0"},i.tasks.map((function(e){return r.a.createElement("li",{className:"ba br4 pv1 ph2 mb2 ttc flex justify-between items-center",key:e.id},r.a.createElement("h1",{className:e.completed?"f5 lh-copy normal strike":"f5 lh-copy normal"},e.task),r.a.createElement("span",null,e.completed?r.a.createElement("i",{onClick:function(){var t=u(e);m(i._id,i._rev,t)},className:"grow far fa-check-circle green pointer"}):r.a.createElement("i",{onClick:function(){var t=u(e);m(i._id,i._rev,t)},className:"grow far fa-circle pointer"}),r.a.createElement("i",{onClick:function(){var t=function(e){var t=i.tasks.filter((function(t){if(e.id!==t.id)return t}));return i.tasks=t,i}(e);m(i._id,i._rev,t)},className:"grow fas fa-trash red ml1 pointer"})))}))):null,r.a.createElement(s.b,{className:"link black underline f4",to:{pathname:"".concat(a,"/edit"),state:{todo:i}}},"Edit todo")):r.a.createElement("div",null,"Loading todo")},S=function(e){var t=e.location,a=e.history,l=t.state.todo,c=Object(n.useContext)(g).handleEditTodo,o=Object(n.useState)(l.tasks),p=Object(m.a)(o,2),h=p[0],v=p[1];return r.a.createElement("div",{className:"flex flex-column justify-center ph3 mw6-ns center-ns"},r.a.createElement("div",null,r.a.createElement(s.b,{className:"link underline black f4",to:"/"},r.a.createElement("i",{className:"fas fa-home"}))),r.a.createElement(u.a,{initialValues:{title:l.title,description:l.description,status:l.status,tasks:"",due_date:l.due_date},validationSchema:k,validateOnChange:!1,onSubmit:function(e){e.tasks=h,c(l._rev,l._id,e),a.goBack()}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=e.setFieldValue,l=e.values,c=e.errors;return r.a.createElement("form",{className:"mt4",onSubmit:t},r.a.createElement(d,{label:"Title",type:"text",name:"title",value:l.title,onChange:a,errors:c.title?c.title:null}),r.a.createElement(b,{label:"Description",type:"text",name:"description",value:l.description,onChange:a,errors:c.description?c.description:null}),r.a.createElement("div",{className:"flex items-end justify-between"},r.a.createElement(d,{label:"Add some tasks",type:"text",value:l.tasks,name:"tasks",onChange:a,errors:c.tasks?c.tasks:null}),r.a.createElement("div",null,r.a.createElement("button",{className:"mb2",onClick:function(){var e={id:E()(),task:l.tasks,completed:!1};v((function(t){return[].concat(Object(i.a)(t),[e])})),n("tasks","")},type:"button"},"Add"))),h.length>0?r.a.createElement("ul",null,h.map((function(e){return r.a.createElement("li",{key:e.id},e.task)}))):null,r.a.createElement("div",{className:"mb5"},r.a.createElement("label",{htmlFor:"due_date",className:"f4 b db mb2"},"Set due date"),r.a.createElement(f.a,{name:"due_date",onChange:function(e){return n("due_date",e)},selected:Date.parse(l.due_date),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:30,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa",placeholderText:"Select new date and time"})),r.a.createElement("div",{className:"flex mt5"},r.a.createElement("div",{className:"center"},r.a.createElement("button",{type:"reset"},"Reset"),r.a.createElement("button",{type:"submit"},"Save"))))})))},T=function(){var e=Object(n.useContext)(g).handleGetTodos;return Object(n.useEffect)((function(){e()}),[]),r.a.createElement(s.a,null,r.a.createElement(o.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(_,e)}}),r.a.createElement(o.a,{path:"/create",render:function(e){return r.a.createElement(j,e)}}),r.a.createElement(o.a,{exact:!0,path:"/todo/:todoId",render:function(e){return r.a.createElement(O,e)}}),r.a.createElement(o.a,{path:"/todo/:todoId/edit",render:function(e){return r.a.createElement(S,e)}}))};a(369);c.a.render(r.a.createElement((function(e){var t=e.children,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(),u=Object(m.a)(o,2),d=u[0],b=u[1],p=Object(n.useState)(null),f=Object(m.a)(p,2),h=f[0],E=f[1],v=function(e){var t;return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.awrap(w.get(e));case 3:t=a.sent,b(t),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])};return r.a.createElement(g.Provider,{value:{loading:h,todo:d,todos:c,handleGetTodoById:v,handleGetTodos:function(){var e,t;return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,E(!0),a.next=4,N.a.awrap(w.allDocs({include_docs:!0}));case 4:e=a.sent,t=e.rows.map((function(e){return e.doc})),E(!1),s(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,10]])},handleCreateTodo:function(e){var t,a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.awrap(w.post(e));case 3:return t=n.sent,n.next=6,N.a.awrap(w.get(t.id));case 6:a=n.sent,s((function(e){return[].concat(Object(i.a)(e),[a])})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),null,null,[[0,10]])},handleEditTodo:function(e,t,a){var n,r,l;return N.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,N.a.awrap(w.put(Object(y.a)({_rev:e,_id:t},a)));case 3:return n=o.sent,o.next=6,N.a.awrap(v(n.id));case 6:return o.next=8,N.a.awrap(w.get(n.id));case 8:r=o.sent,l=c.map((function(e){return e._id===r._id?r:e})),s(l),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),console.error(o.t0);case 16:case"end":return o.stop()}}),null,null,[[0,13]])},handleDeleteTodo:function(e,t){var a,n;return N.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,N.a.awrap(w.remove(e,t));case 3:a=r.sent,n=c.filter((function(e){if(e._id!==a.id)return e})),s(n),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),null,null,[[0,8]])}}},t)}),null,r.a.createElement(T,null)),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.2462238e.chunk.js.map